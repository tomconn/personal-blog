{{ define "main" }}
<main>
    {{/* Optional: Title for the list page (e.g., "Posts") */}}
    {{/* <h1 class="page-title">{{ .Title }}</h1> */}}

    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections | default (where .Site.RegularPages "Type" "posts")) }}
    {{ range $paginator.Pages }}
        <article class="post-summary card"> {{/* Wrap summary in a card */}}
            <h2 class="list-post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
            <div class="post-meta">
                <span><time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "January 2, 2006" }}</time></span>
                {{ with .Params.tags }}
                <span>| Tags:
                    {{ range $index, $tag := . }}
                        {{ if $index }}, {{ end }}<a href="{{ "/tags/" | relURL }}{{ . | urlize }}">{{ . }}</a>
                    {{ end }}
                </span>
                {{ end }}
            </div>
            <div>
                 {{ .Summary }} {{/* Hugo automatically generates a summary */}}
            </div>
             <a href="{{ .RelPermalink }}" class="button read-more">Read More â†’</a> {{/* Optional button */}}
        </article>
    {{ end }}

    {{/* Include Pagination */}}
    {{ partial "pagination.html" . }}

</main>
{{ end }}

{{/* Add default mainSections in config.toml if needed */}}
{{/* [params] */}}
{{/*   mainSections = ["posts"] */}}